<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nossas Mem√≥rias - Slideshow üíï</title>
    <style>
        :root{
            --bg-1: #0f1724;
            --bg-2: #1f2a44;
            --accent: #ff6b6b;
            --muted: #cbd5e1;
            --glass: rgba(255,255,255,0.06);
            --card-bg: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0;
            font-family: Inter, 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg,var(--bg-1),var(--bg-2));
            color: #fff;
            -webkit-font-smoothing:antialiased;
            display:flex;
            align-items:center;
            justify-content:center;
            padding:28px;
        }
        .container{
            width:100%;
            max-width:980px;
            border-radius:18px;
            overflow:hidden;
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
            box-shadow: 0 20px 60px rgba(2,6,23,0.6);
            position:relative;
        }
        .stage{
            display:grid;
            grid-template-columns: 1fr 420px;
        }
        @media (max-width:880px){
            .stage{grid-template-columns:1fr}
        }

        .visual{
            background: radial-gradient(1200px 400px at 10% 10%, rgba(255,107,107,0.06), transparent 10%), linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
            padding:18px;
            display:flex;
            align-items:center;
            justify-content:center;
            min-height:420px;
        }

        .slide{
            width:100%;
            max-height:560px;
            border-radius:12px;
            overflow:hidden;
            display:flex;
            align-items:center;
            justify-content:center;
            background:var(--card-bg);
            padding:18px;
        }

        .slide img{
            width:100%;
            height:100%;
            object-fit:cover;
            border-radius:10px;
            box-shadow: 0 12px 30px rgba(2,6,23,0.45) inset;
        }

        .meta{
            padding:28px 26px;
            display:flex;
            flex-direction:column;
            gap:18px;
            align-items:flex-start;
            justify-content:center;
            background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
        }

        .title{
            font-size:1.6rem;
            color:var(--accent);
            font-weight:700;
            letter-spacing:0.2px;
        }
        .text{
            color:var(--muted);
            line-height:1.6;
            font-size:1rem;
        }

        .controls{
            width:100%;
            display:flex;
            gap:12px;
            align-items:center;
            justify-content:space-between;
            margin-top:8px;
        }

        .nav-group{display:flex; gap:12px; align-items:center}

        .btn{
            background:transparent;
            border:1px solid rgba(255,255,255,0.06);
            color:#fff;
            padding:10px 14px;
            border-radius:10px;
            cursor:pointer;
            transition: all 200ms ease;
            backdrop-filter: blur(4px);
        }
        .btn:hover{transform:translateY(-4px); box-shadow: 0 12px 30px rgba(0,0,0,0.35)}

        .circle-btn{
            width:52px; height:52px; border-radius:12px; display:inline-grid; place-items:center; font-size:1.2rem;
        }

        .dots{display:flex; gap:8px; align-items:center}
        .dot{width:12px; height:12px; border-radius:50%; background:rgba(255,255,255,0.12); cursor:pointer; transition:all 220ms}
        .dot.active{background:var(--accent); transform:scale(1.25); box-shadow:0 8px 18px rgba(255,107,107,0.18)}

        .counter{font-size:0.95rem; color:var(--muted); background:rgba(0,0,0,0.22); padding:8px 12px; border-radius:999px}

        .back{
            position:absolute; left:18px; top:18px; z-index:20; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:8px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.04);
        }

        .music{
            position:absolute; right:18px; bottom:18px; z-index:20; display:flex; gap:8px; align-items:center
        }

        /* small screens tweaks */
        @media (max-width:480px){
            .meta{padding:18px}
            .title{font-size:1.2rem}
            .visual{min-height:300px}
            .slide img{border-radius:8px}
            .circle-btn{width:46px;height:46px}
        }

        /* subtle entrance */
        .fade{
            animation: fadeIn 420ms ease;
        }
        @keyframes fadeIn{from{opacity:0; transform:translateY(6px)}to{opacity:1; transform:none}}

        /* Galeria modal styles */
        #galleryModal{position:fixed; inset:0; display:none; place-items:center; z-index:60}
        #galleryModal.active{display:grid}
        .gallery-overlay{position:fixed; inset:0; background:rgba(2,6,23,0.6)}
        .gallery-panel{position:relative; width:min(980px,96%); max-height:86vh; overflow:auto; background:linear-gradient(180deg,#071124, #0b1530); border-radius:12px; padding:18px; box-shadow:0 30px 80px rgba(2,6,23,0.7); display:flex; gap:12px; align-items:flex-start}
        .gallery-preview{flex:1; display:flex; flex-direction:column; align-items:center; gap:8px}
        .gallery-preview img{max-width:100%; max-height:60vh; border-radius:10px; object-fit:contain}
        .gallery-thumbs{width:320px; display:flex; flex-direction:column; gap:8px; overflow:auto; padding-right:6px}
        .gallery-thumb{width:100%; display:grid; grid-template-columns: 1fr 48px; gap:8px; align-items:center; padding:8px; border-radius:8px; cursor:pointer; background:rgba(255,255,255,0.02)}
        .gallery-thumb img{width:100%; height:70px; object-fit:cover; border-radius:6px}
        .gallery-thumb.active{box-shadow:0 12px 30px rgba(255,107,107,0.12); border:1px solid rgba(255,107,107,0.12)}
        @media(max-width:880px){ .gallery-panel{flex-direction:column} .gallery-thumbs{width:100%; flex-direction:row; overflow:auto} .gallery-thumb{width:180px; grid-template-columns: 1fr} }

    </style>
</head>
<body>
    <div class="container fade" role="region" aria-label="Slideshow de mem√≥rias">
        <button class="back btn back" onclick="voltarInicio()">‚Üê Voltar</button>
        <div class="stage">
            <div class="visual">
                <div id="slideWrapper" class="slide">
                    <img id="mainImg" src="./image/WhatsApp Image 2025-10-22 at 09.59.08.jpeg" alt="Nossa Primeira Foto">
                </div>
            </div>
            <div class="meta">
                <div style="display:flex; align-items:center; width:100%; justify-content:space-between">
                    <div>
                        <div id="slideTitle" class="title">O Come√ßo de Tudo üíï</div>
                        <div id="slideText" class="text">Lembra deste momento, amor? Foi quando nossa hist√≥ria de amor come√ßou... Cada sorriso seu j√° sabia que ser√° especial! ‚ú®</div>
                    </div>
                    <div class="counter" aria-live="polite"><span id="currentSlide">1</span> / <span id="totalSlides">5</span></div>
                </div>

                <div class="controls">
                    <div class="nav-group">
                        <button class="btn circle-btn prev" aria-label="Anterior" onclick="mudarSlide(-1)">‚ùÆ</button>
                        <button class="btn circle-btn next" aria-label="Pr√≥ximo" onclick="mudarSlide(1)">‚ùØ</button>
                        <div class="dots" id="dots"></div>
                    </div>

                    <div style="display:flex; gap:10px; align-items:center">
                        <button id="playBtn" class="btn" onclick="toggleAuto()">‚ñ∂ Auto</button>
                        <button id="musicBtn" class="btn" onclick="toggleMusic()">üéµ</button>
                    </div>
                </div>

                <div style="margin-top:8px; width:100%; display:flex; gap:10px; align-items:center">
                    <button class="btn" onclick="openGallery()">Ver todas as fotos</button>
                    <div style="flex:1"></div>
                </div>
            </div>
        </div>

        <div class="music" role="status" aria-live="polite">
            <audio id="backgroundMusic" loop preload="none">
                <source src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" type="audio/mpeg">
            </audio>
        </div>
    </div>

        <!-- Galeria Modal -->
    <div id="galleryModal" aria-hidden="true">
            <div class="gallery-overlay" onclick="closeGallery()" aria-hidden="true"></div>
            <div class="gallery-panel" role="dialog" aria-modal="true" aria-label="Galeria de fotos">
                <button class="btn" style="position:absolute; right:14px; top:14px;" onclick="closeGallery()">Fechar ‚úï</button>
                <div class="gallery-preview">
                    <img id="galleryLarge" src="" alt="Pr√©-visualiza√ß√£o" />
                    <div style="margin-top:8px; display:flex; gap:8px; justify-content:center">
                        <button class="btn" id="useImageBtn">Usar esta foto</button>
                    </div>
                </div>
                <div class="gallery-thumbs" id="galleryThumbs" aria-label="Miniaturas"></div>
            </div>
        </div>

    <script>
        // slides data (title, text, src)
        const slides = [
            { src: './image/WhatsApp Image 2025-10-22 at 09.59.08.jpeg', title: 'O Come√ßo de Tudo üíï', text: 'Lembra deste momento, amor? Foi quando nossa hist√≥ria de amor come√ßou... Cada sorriso seu j√° sabia que ser√° especial! ‚ú®' },
            { src: './image/WhatsApp Image 2025-10-22 at 10.02.12.jpeg', title: 'Primeiro Encontro üåü', text: 'Que nervoso eu estava! Mas voc√™ me deixou t√£o √† vontade... Foi nesse dia que soube que voc√™ era especial demais! üíñ' },
            { src: './image/WhatsApp Image 2025-10-22 at 10.03.12.jpeg', title: 'Momentos de Alegria üéä', text: 'Cada comemora√ß√£o fica mais especial ao seu lado, meu amor! Voc√™ torna cada dia uma festa! ü•≥üíï' },
            { src: './image/WhatsApp Image 2025-10-22 at 10.03.57.jpeg', title: 'Nossos momentos lindos üåÑ', text: 'Cada novo dia ao seu lado √© uma ben√ß√£o, Brenda. Voc√™ √© minha luz, meu sol, minha inspira√ß√£o! ‚òÄÔ∏èüíõ' },
            { src: './image/WhatsApp Image 2025-10-22 at 10.04.24.jpeg', title: 'Para Sempre üíç', text: 'Esta √© nossa hist√≥ria, Brenda, e mal posso esperar para escrever muito mais cap√≠tulos ao seu lado. Te amo infinitamente! üíï‚àû' }
        ];

        const mainImg = document.getElementById('mainImg');
        const slideTitle = document.getElementById('slideTitle');
        const slideText = document.getElementById('slideText');
        const currentSlideEl = document.getElementById('currentSlide');
        const totalSlidesEl = document.getElementById('totalSlides');
        const dotsContainer = document.getElementById('dots');
        const playBtn = document.getElementById('playBtn');
        const music = document.getElementById('backgroundMusic');

        let index = 0;
        let autoPlayInterval = null;
        let isAuto = false;
        let isPlayingMusic = false;

        function renderDots(){
            dotsContainer.innerHTML = '';
            slides.forEach((s,i)=>{
                const d = document.createElement('div');
                d.className = 'dot' + (i===index? ' active':'');
                d.title = (i+1) + '¬™ foto';
                d.addEventListener('click', ()=>{ goToSlide(i+1) });
                dotsContainer.appendChild(d);
            });
        }

        function updateUI(){
            const s = slides[index];
            mainImg.src = s.src;
            mainImg.alt = s.title;
            slideTitle.textContent = s.title;
            slideText.textContent = s.text;
            currentSlideEl.textContent = index+1;
            totalSlidesEl.textContent = slides.length;
            // update dots
            const dots = dotsContainer.querySelectorAll('.dot');
            dots.forEach((d,i)=> d.classList.toggle('active', i===index));
        }

        function goToSlide(n){
            index = Math.max(0, Math.min(slides.length-1, n-1));
            updateUI();
        }

        function mudarSlide(delta){
            index = (index + delta + slides.length) % slides.length;
            updateUI();
        }

        function toggleAuto(){
            if(isAuto){
                clearInterval(autoPlayInterval); autoPlayInterval = null; isAuto=false; playBtn.textContent='‚ñ∂ Auto';
            } else {
                autoPlayInterval = setInterval(()=> mudarSlide(1), 5000); isAuto=true; playBtn.textContent='‚ñ† Pausar';
            }
        }

        function toggleMusic(){
            if(isPlayingMusic){ music.pause(); isPlayingMusic=false; document.getElementById('musicBtn').textContent='üéµ'; }
            else { music.play().catch(()=>{}); isPlayingMusic=true; document.getElementById('musicBtn').textContent='üîá'; }
        }

        function voltarInicio(){ window.location.href='index.html'; }

        // keyboard nav
        document.addEventListener('keydown',(e)=>{
            if(e.key==='ArrowLeft') mudarSlide(-1);
            if(e.key==='ArrowRight') mudarSlide(1);
        });

        // --- Gallery logic ---
        const galleryModal = document.getElementById('galleryModal');
        const galleryThumbs = document.getElementById('galleryThumbs');
        const galleryLarge = document.getElementById('galleryLarge');
        const useImageBtn = document.getElementById('useImageBtn');
        let gallerySelected = 0;

        function openGallery(){
            // populate thumbs
            galleryThumbs.innerHTML = '';
            slides.forEach((s,i)=>{
                const item = document.createElement('div');
                item.className = 'gallery-thumb' + (i===gallerySelected? ' active':'');
                const img = document.createElement('img'); img.src = s.src; img.alt = s.title;
                const meta = document.createElement('div'); meta.style.fontSize='0.9rem'; meta.style.color='var(--muted)'; meta.textContent = s.title;
                const btn = document.createElement('div'); btn.innerHTML = (i+1);
                item.appendChild(img);
                item.appendChild(meta);
                item.addEventListener('click', ()=> selectGallery(i));
                galleryThumbs.appendChild(item);
            });
            selectGallery(gallerySelected);
            galleryModal.classList.add('active');
            galleryModal.setAttribute('aria-hidden','false');
        }

        function closeGallery(){
            galleryModal.classList.remove('active');
            galleryModal.setAttribute('aria-hidden','true');
        }

        function selectGallery(i){
            gallerySelected = i;
            const s = slides[i];
            galleryLarge.src = s.src;
            galleryLarge.alt = s.title;
            // highlight thumb
            Array.from(galleryThumbs.children).forEach((ch,idx)=>{
                ch.classList.toggle('active', idx===i);
            });
        }

        useImageBtn.addEventListener('click', ()=>{
            // apply selected image to slideshow
            closeGallery();
            goToSlide(gallerySelected+1);
        });

        // init
        renderDots(); updateUI();

    </script>
</body>
</html>